// Generated by CoffeeScript 1.7.1
(function() {
  var dndSearchApp;

  dndSearchApp = angular.module('dndSearchApp', []);

  dndSearchApp.controller('MainCtrl', [
    '$scope', '$http', function($scope, $http) {
      $scope.results = [];
      return $scope.submit_query = function(query) {
        return $http.get("/query/" + query).success(function(results) {
          if (results.length === 0) {
            return $scope.results = [
              {
                'book': 'Sorry no results were found',
                'page': ''
              }
            ];
          } else {
            return $scope.results = results;
          }
        });
      };
    }
  ]);

}).call(this);
